{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ - ICEQ{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/edit.css') }}">
{% endblock %}

{% block content %}
<div class="edit-container">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <div class="breadcrumbs">
        <a href="/" class="breadcrumb-link">–ì–ª–∞–≤–Ω–∞—è</a>
        <span class="breadcrumb-separator">‚Üí</span>
        <a href="/create" class="breadcrumb-link">–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç</a>
        <span class="breadcrumb-separator">‚Üí</span>
        <a href="/preview" class="breadcrumb-link">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</a>
        <span class="breadcrumb-separator">‚Üí</span>
        <span class="breadcrumb-current">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</span>
    </div>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="edit-header">
        <div class="header-content">
            <h1>‚úé –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ—Å—Ç–∞</h1>
            <p>–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∞</p>
        </div>
        
        <div class="test-meta">
            <div class="meta-item">
                <span class="meta-icon">üìä</span>
                <div class="meta-content">
                    <span class="meta-label">–í–æ–ø—Ä–æ—Å–æ–≤</span>
                    <span class="meta-value" id="questions-count">0</span>
                </div>
            </div>
            <div class="meta-item">
                <span class="meta-icon">ü§ñ</span>
                <div class="meta-content">
                    <span class="meta-label">–ú–æ–¥–µ–ª—å</span>
                    <span class="meta-value" id="used-model">DeepSeek</span>
                </div>
            </div>
            <div class="meta-item">
                <span class="meta-icon">üíæ</span>
                <div class="meta-content">
                    <span class="meta-label">–°—Ç–∞—Ç—É—Å</span>
                    <span class="meta-value" id="save-status">–ù–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ</span>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="edit-actions">
        <div class="main-actions-group">
            <button id="save-test-btn" class="btn action-btn primary">
                <span class="btn-icon">üíæ</span>
                <span class="btn-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è</span>
            </button>
            <button id="add-question-btn" class="btn action-btn">
                <span class="btn-icon">‚ûï</span>
                <span class="btn-text">–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</span>
            </button>
        </div>
        
        <div class="secondary-actions">
            <button id="preview-test-btn" class="btn tertiary-btn">
                <span class="btn-icon">üëÅÔ∏è</span>
                <span class="btn-text">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</span>
            </button>
            <button id="import-question-btn" class="btn tertiary-btn">
                <span class="btn-icon">üìÅ</span>
                <span class="btn-text">–ò–º–ø–æ—Ä—Ç</span>
            </button>
        </div>
    </div>

    <!-- –û–±–ª–∞—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ -->
    <div class="questions-edit-section">
        <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤</h3>
        
        <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
        <div class="edit-toolbar">
            <div class="toolbar-left">
                <button id="expand-all-btn" class="toolbar-btn">
                    <span class="btn-icon">üìñ</span>
                    <span class="btn-text">–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ</span>
                </button>
                <button id="collapse-all-btn" class="toolbar-btn">
                    <span class="btn-icon">üìï</span>
                    <span class="btn-text">–°–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ</span>
                </button>
            </div>
        </div>
        
        <!-- –°–ø–∏—Å–æ–∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ -->
        <div class="questions-edit-container">
            <div id="questions-edit-list" class="questions-edit-list">
                <!-- –í–æ–ø—Ä–æ—Å—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="loading-indicator" id="loading-indicator" style="display: none;">
        <div class="spinner"></div>
        <p>–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π...</p>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è -->
    <div id="confirm-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p id="modal-message">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="btn secondary-btn">–û—Ç–º–µ–Ω–∞</button>
                <button id="modal-confirm" class="btn danger-btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block page_js %}
<script src="{{ url_for('static', filename='js/pages/edit.js') }}"></script>
{% endblock %} 