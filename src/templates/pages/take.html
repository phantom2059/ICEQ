{% extends "base.html" %}

{% block title %}–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ - ICEQ{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/pages/take.css') }}">
{% endblock %}

{% block content %}
<div class="take-container">
    <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
    <div class="breadcrumbs">
        <a href="/" class="breadcrumb-link">–ì–ª–∞–≤–Ω–∞—è</a>
        <span class="breadcrumb-separator">‚Üí</span>
        <span class="breadcrumb-current">–ü—Ä–æ–π—Ç–∏ —Ç–µ—Å—Ç</span>
    </div>

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="page-header">
        <h1>üìã –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞</h1>
        <p class="page-description">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Ç–µ—Å—Ç–∞ –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ ID —Ç–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è</p>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–∞ -->
    <div id="upload-screen" class="upload-screen">
        <div class="card main-form">
            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–≤–æ–¥–∞ -->
            <div class="input-tabs">
                <button class="tab-btn active" data-tab="file">
                    <span class="tab-icon">üìÅ</span>
                    <span>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª</span>
                </button>
                <button class="tab-btn" data-tab="id">
                    <span class="tab-icon">üîó</span>
                    <span>–ü–æ ID</span>
                </button>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ -->
            <div id="file-input-tab" class="tab-content active">
                <div class="input-group">
                    <label>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Ç–µ—Å—Ç–∞:</label>
                    <div id="drop-area" class="upload-area">
                        <div class="upload-icon">üìé</div>
                        <h3>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Ç–µ—Å—Ç–∞ —Å—é–¥–∞</h3>
                        <p>–∏–ª–∏</p>
                        <input type="file" id="file-upload" accept=".json,.txt" hidden>
                        <button type="button" class="btn secondary-btn" onclick="document.getElementById('file-upload').click()">
                            –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
                        </button>
                        <div class="file-info" id="file-info" style="display: none;">
                            <div class="file-preview">
                                <span class="file-icon">üìÑ</span>
                                <div class="file-details">
                                    <div class="file-name" id="file-name"></div>
                                    <div class="file-size" id="file-size"></div>
                                </div>
                                <button class="file-remove" id="file-remove">‚úï</button>
                            </div>
                        </div>
                    </div>
                    <div class="upload-hints">
                        <p><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:</strong> JSON, TXT</p>
                        <p><strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä:</strong> 1 –ú–ë</p>
                    </div>
                </div>
            </div>

            <!-- –í–∫–ª–∞–¥–∫–∞ –≤–≤–æ–¥–∞ ID -->
            <div id="id-input-tab" class="tab-content">
                <div class="input-group">
                    <label for="test-id">ID —Ç–µ—Å—Ç–∞:</label>
                    <input type="text" id="test-id" placeholder="–í–≤–µ–¥–∏—Ç–µ ID —Ç–µ—Å—Ç–∞" maxlength="50">
                    <div class="input-hints">
                        üí° ID —Ç–µ—Å—Ç–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ –∏–∑ —Å—Å—ã–ª–∫–∏
                    </div>
                </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="form-actions">
                <button type="button" class="btn secondary-btn" id="back-btn">
                    ‚Üê –ù–∞–∑–∞–¥
                </button>
                <button type="button" class="btn primary-btn" id="load-test-btn" disabled>
                    <span class="btn-icon">üìã</span>
                    <span class="btn-text">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞ -->
    <div id="test-screen" class="test-screen" style="display: none;">
        <div class="test-header">
            <div class="test-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</div>
            </div>
            <div class="test-timer" id="test-timer">00:00</div>
        </div>

        <div class="question-card" id="question-container">
            <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å -->
        </div>

        <div class="test-navigation">
            <button id="prev-question" class="nav-btn prev" disabled>
                ‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–π
            </button>
            <div class="question-dots" id="question-dots">
                <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ -->
            </div>
            <button id="next-question" class="nav-btn next">
                –°–ª–µ–¥—É—é—â–∏–π ‚Üí
            </button>
            <button id="finish-test" class="nav-btn finish" style="display: none;">
                –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç
            </button>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="results-screen" class="results-screen" style="display: none;">
        <div id="results-content">
            <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>
</div>
{% endblock %}

{% block page_js %}
<script src="{{ url_for('static', filename='js/pages/take.js') }}"></script>
{% endblock %} 